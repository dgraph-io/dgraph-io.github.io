<!DOCTYPE html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1">
    <link rel="canonical" href="https://blog.dgraph.io/post/tutorial-2-getting-started/" />


    <link rel="apple-touch-icon" sizes="57x57" href="https://dgraph.io/assets/images/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://dgraph.io/assets/images/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://dgraph.io/assets/images/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://dgraph.io/assets/images/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://dgraph.io/assets/images/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://dgraph.io/assets/images/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://dgraph.io/assets/images/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://dgraph.io/assets/images/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://dgraph.io/assets/images/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://dgraph.io/assets/images/favicons/android-icon-192x192.png">
    <link rel="manifest" href="https://dgraph.io/assets/images/favicons/manifest.json">
    <link rel="icon" type="image/png" sizes="32x32" href="https://dgraph.io/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://dgraph.io/assets/images/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://dgraph.io/assets/images/faviconsfavicon-16x16.png">
    <link rel="shortcut icon" href="https://dgraph.io/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="https://dgraph.io/assets/images/faviconsms-icon-144x144.png">
    <meta name="msapplication-config" content="https://dgraph.io/assets/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://blog.dgraph.io//index.xml">
  
    <title>Dgraph tutorials series - 2: UID operations, updating nodes, and traversals - Dgraph Blog</title>
    <meta property='og:title' content="Dgraph tutorials series - 2: UID operations, updating nodes, and traversals - Dgraph Blog">
    <meta property="og:type" content="article">
  

  <meta property="og:url" content="https://blog.dgraph.io/post/tutorial-2-getting-started/">
  
  <meta property="og:image" content="https://blog.dgraph.io//images/tutorials/2/banner.jpg">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" integrity="sha256-0rguYS0qgS6L4qVzANq4kjxPLtvnp5nn2nB5G1lWRv4=" crossorigin="anonymous"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/default.min.css" rel="stylesheet" integrity="sha256-Zd1icfZ72UBmsId/mUcagrmN7IN5Qkrvh75ICHIQVTk=" crossorigin="anonymous" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js" integrity="sha256-sNPiigbfSkqUzMc5rgrdztLnneCMAp6W9wetJUZu9Zw=" crossorigin="anonymous"></script>

  <link
    href='https://blog.dgraph.io//css/runnable.css?7bbf71b4888bc97241e85bc7326a12fe'
    rel="stylesheet"
  />
  <link
    href='https://blog.dgraph.io//css/runnable-custom.css?74110b504a7b8a6e92a95279cfa96032'
    rel="stylesheet"
  />

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500&display=swap" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />

  <link href="https://dgraph.io/assets/css/style.min.css?05042020-3" rel="stylesheet" type="text/css" />

  <link href="https://dgraph.io/assets/css/font-awesome/css/all.css" rel="stylesheet"/>

  <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.js" integrity="sha256-x3BtPVERvw1ozPlwivuFLZoViFCeAAs1Gt6SxEedmo8=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.css" integrity="sha256-7sZe9dsqyNZC9Mk+WPRB7nVvPPPXyorzm2QKqlgXC4k=" crossorigin="anonymous" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/addon/edit/closebrackets.min.js" integrity="sha256-qhu2a7DSpQaammMaLw1iruxBpxmgdw8mdQaQWQUokcY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/mode/javascript/javascript.min.js" integrity="sha256-7Bdg/UdDMmHDPafpQDYZNPCEbnRP7eAvu+2hEoqRCXs=" crossorigin="anonymous"></script>
  

  <script src="https://cdn.jsdelivr.net/npm/algoliasearch@3/dist/algoliasearch.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.0.0/dist/instantsearch.production.min.js" integrity="sha256-6S7q0JJs/Kx4kb/fv0oMjS855QTz5Rc2hh9AkIUjUsk=" crossorigin="anonymous"></script>
  <script src="https://blog.dgraph.io//js/search.js?04292020"></script>

  
  
    
      <meta name="twitter:card" content="summary_large_image"/>
      <meta name="twitter:image" content="https://blog.dgraph.io//images/tutorials/2/banner.jpg"/>
    
  

  <meta name="twitter:title" content="Dgraph tutorials series - 2: UID operations, updating nodes, and traversals"/>
  <meta name="twitter:description" content="Welcome to the second episode of getting started with Dgraph. In the last episode of the tutorial, we learned some of the basics of Dgraph."/>
  <meta name="twitter:site" content="@dgraphlabs"/>

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-666192333"></script>
  <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-666192333');</script>
</head>


<body class="blog-single has-lightning" data-gr-c-s-loaded="true">

    <header id="page-header" class="page-header">
	<div class="page-logo">
		<a href="https://dgraph.io/">
			<img src="https://dgraph.io/assets/images/logo.svg">
		</a>
	</div>
	<nav class="page-nav">
    <ul>
        <li>
            <div data-label="Products">
                <span>Products</span>
            </div>
            <ul>
                <li>
                    <a href="https://dgraph.io/graphql" data-label="GraphQL">
                        <span>GraphQL</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/enterprise" data-label="Enterprise">
                        <span>Enterprise</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/downloads" data-label="Downloads">
                        <span>Downloads</span>
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <div data-label="Learn" class="is-active">
                <span>Learn</span>
            </div>
            <ul>
                <li>
                    <a href="https://dgraph.io/blog" data-label="Blog">
                        <span>Blog</span>
                    </a>
                </li>
                <li>
                    <a href="https://tour.dgraph.io" target="_blank" data-label="Interactive Tour">
                        <span>Interactive Tour</span>
                    </a>
                </li>
                <li>
                    <a href="https://discuss.dgraph.io" target="_blank" data-label="Forum">
                        <span>Forum</span>
                    </a>
                </li>
                <li>
                    <a href="https://slack.dgraph.io" target="_blank" data-label="Slack">
                        <span>Slack</span>
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <div data-label="Docs"><span>Docs</span></div>
            <ul>
                <li>
                    <a href="https://docs.dgraph.io" target="_blank" data-label="Dgraph Docs">
                        <span>Dgraph Docs</span>
                    </a>
                </li>
                <li>
                    <a href="https://graphql.dgraph.io/docs/" target="_blank" data-label="GraphQL Docs">
                        <span>GraphQL Docs</span>
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <div data-label="Company"><span>Company</span></div>
            <ul>
                <li>
                    <a href="https://dgraph.io/about" data-label="Team">
                        <span>Team</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/careers" data-label="Careers">
                        <span>Careers</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/contact" data-label="Contact">
                        <span>Contact</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/conduct" data-label="Conduct">
                        <span>Conduct</span>
                    </a>
                </li>
            </ul>
        </li>
    </ul>
</nav>

	<div class="page-cta">
    <ul>
        <li class="hide-tablet">
            <a href="https://dgraph.io/contact" title="Contact">Contact</a>
        </li>
        <li>
            <a href="https://dgraph.io/downloads" title="Download" class="button button--secondary">
                <span>Download</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </li>
    </ul>
</div>

</header>




    <section class="page-body">
        <div class="container">
            <div class="row">

                <div class="col-12 col-md-8">
                    <div class="page-body__content post">

                        <div class="post__meta">

                            <div class="post__date">

    
        Tue, Oct 15, 2019
    
    
</div>


                            <div class="post__share">
                                
                                    <a href="https://twitter.com/share?text=Dgraph%20tutorials%20series%20-%202%3a%20UID%20operations%2c%20updating%20nodes%2c%20and%20traversals&amp;url=https%3a%2f%2fblog.dgraph.io%2fpost%2ftutorial-2-getting-started%2f&amp;via=dgraphlabs" target="_blank">
                                        <i class="fab fa-twitter"></i>
                                    </a>
                                
                            </div>

                        </div>

                        <div class="post__cover">

                            <img src="https://blog.dgraph.io//images/tutorials/2/banner.jpg">

                            <div class="post__header">

                                <h1 class="post__title">
                                    Dgraph tutorials series - 2: UID operations, updating nodes, and traversals
                                </h1>

                                
<div class="post__byline">

    
            by <a href="https://blog.dgraph.io/authors/karthic/">Karthic Rao</a>
        
    

</div>



                            </div>

                        </div>

                        <div class="post__content">
                            <p>Welcome to the second episode of getting started with Dgraph.
In the <a href="https://blog.dgraph.io/post/tutorial-1-getting-started/">last episode</a> of the tutorial, we learned some of the basics of Dgraph.
Including how to run the database, add new nodes and predicates, and query them back.</p>
<p><img src="https://blog.dgraph.io/images/tutorials/2/graph-1.jpg" alt="Graph"></p>
<p>In this episode, we&rsquo;ll build the above Graph and learn more about operations using the UID (Universal Identifier) of the nodes.
Specifically, we&rsquo;ll learn about:</p>
<ul>
<li>Querying and updating nodes, deleting predicates using their UIDs.</li>
<li>Adding an edge between existing nodes.</li>
<li>Adding a new predicate to an existing node.</li>
<li>Traversing the Graph.</li>
</ul>
<p>Here&rsquo;s the complimentary video for this blog post. It&rsquo;ll walk you through the steps of this getting started episode.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/8TKD-FFBVgE" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>First, let&rsquo;s create our Graph.</p>
<p>Go to Ratel&rsquo;s mutate tab, paste the mutation below in the text area, and click Run.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#000080">&#34;set&#34;</span>:[
    {
      <span style="color:#000080">&#34;name&#34;</span>: <span style="color:#d14">&#34;Michael&#34;</span>,
      <span style="color:#000080">&#34;age&#34;</span>: <span style="color:#099">40</span>,
      <span style="color:#000080">&#34;follows&#34;</span>: {
        <span style="color:#000080">&#34;name&#34;</span>: <span style="color:#d14">&#34;Pawan&#34;</span>,
        <span style="color:#000080">&#34;age&#34;</span>: <span style="color:#099">28</span>,
        <span style="color:#000080">&#34;follows&#34;</span>:{
          <span style="color:#000080">&#34;name&#34;</span>: <span style="color:#d14">&#34;Leyla&#34;</span>,
          <span style="color:#000080">&#34;age&#34;</span>: <span style="color:#099">31</span>
        }
      }
    }
  ]
}
</code></pre></div><p><img src="https://blog.dgraph.io/images/tutorials/2/a-add-data.gif" alt="mutation-1"></p>
<h2 id="query-using-uids">Query using UIDs</h2>
<p>The UID of the nodes can be used to query them back.
The built-in function uid takes a list of UIDs as a variadic argument, so you can pass one (e.g. uid(0x1)) or as many as you need (e.g. uid(0x1, 0x2)).</p>
<p>It returns the same UIDs that were passed as input, no matter whether they exist in the database or not.
But the predicates asked will be returned only if both the UIDs and their predicates exist.</p>
<p>Let&rsquo;s see the <code>uid</code> function in action.</p>
<p>First, let&rsquo;s copy the UID of the node created for <code>Michael</code>.</p>
<p>Go to the query tab, type in the query below, and click Run.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql">{<span style="color:#bbb">
</span><span style="color:#bbb">  </span>people(func:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">has</span>(name))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>uid<span style="color:#bbb">
</span><span style="color:#bbb">    </span>name<span style="color:#bbb">
</span><span style="color:#bbb">    </span>age<span style="color:#bbb">
</span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p>Now, from the result, copy the UID of Michael&rsquo;s node.</p>
<p><img src="https://blog.dgraph.io/images/tutorials/2/b-get-uid-1.png" alt="get-uid"></p>
<p>In the query below, replace the placeholder <code>MICHAELS_UID</code> with the UID you just copied, and run the query.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql">{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>find_using_uid(func:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">uid</span>(MICHAELS_UID)){<span style="color:#bbb">
</span><span style="color:#bbb">        </span>uid<span style="color:#bbb">
</span><span style="color:#bbb">        </span>name<span style="color:#bbb">
</span><span style="color:#bbb">        </span>age<span style="color:#bbb">
</span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p><img src="https://blog.dgraph.io/images/tutorials/2/c-query-uid.png" alt="get_node_from_uid">
<em>Note: <code>MICHAELS_UID</code> appears as <code>0x8</code> in the images. The UID you get on your machine might have a different value.</em></p>
<p>You can see that the <code>uid</code> function returns the node matching the UID for Michael&rsquo;s node.</p>
<p>Refer to the <a href="https://blog.dgraph.io/post/tutorial-1-getting-started/">last episode</a> if you have questions related to the structure of the query in general.</p>
<h2 id="updating-predicates">Updating predicates</h2>
<p>You can also update one or more predicates of a node using its UID.</p>
<p>Michael recently celebrated his 41st birthday. Let&rsquo;s update his age to 41.</p>
<p>Go to the mutate tab and execute the mutation.
Again, don&rsquo;t forget to replace the placeholder <code>MICHAELS_UID</code> with the actual UID of the node for <code>Michael</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#000080">&#34;set&#34;</span>:[
    {
      <span style="color:#000080">&#34;uid&#34;</span>: <span style="color:#d14">&#34;MICHAELS_UID&#34;</span>,
      <span style="color:#000080">&#34;age&#34;</span>: <span style="color:#099">41</span>
    }
  ]
}
</code></pre></div><p>We had earlier used <code>set</code> to create new nodes.
But on using the UID of an existing node, it updates its predicates, instead of creating a new node.</p>
<p>You can see that Michael&rsquo;s age is updated to 41.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql">{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>find_using_uid(func:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">uid</span>(MICHAELS_UID)){<span style="color:#bbb">
</span><span style="color:#bbb">        </span>name<span style="color:#bbb">
</span><span style="color:#bbb">        </span>age<span style="color:#bbb">
</span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p><img src="https://blog.dgraph.io/images/tutorials/2/d-update-check.png" alt="update check"></p>
<p>Similarly, you can also add new predicates to an existing node.
Since the predicate <code>country</code> doesn&rsquo;t exist for the node for <code>Michael</code>, it creates a new one.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#000080">&#34;set&#34;</span>:[
    {
      <span style="color:#000080">&#34;uid&#34;</span>: <span style="color:#d14">&#34;MICHAELS_UID&#34;</span>,
      <span style="color:#000080">&#34;country&#34;</span>: <span style="color:#d14">&#34;Australia&#34;</span>
    }
  ]
}
</code></pre></div><h2 id="adding-an-edge-between-existing-nodes">Adding an edge between existing nodes</h2>
<p>You can also add an edge between existing nodes using their UIDs.</p>
<p>Let&rsquo;s say, <code>Leyla</code> starts to follow <code>Michael</code>.</p>
<p>We know that this relationship between them has to represented by creating the <code>follows</code> edge between them.</p>
<p><img src="https://blog.dgraph.io/images/tutorials/2/graph-2.jpg" alt="Graph"></p>
<p>First, let&rsquo;s copy the UIDs of nodes for <code>Leyla</code> and <code>Michael</code> from Ratel.</p>
<p>Now, replace the placeholders <code>LEYLAS_UID</code> and <code>MICHAELS_UID</code> with the ones you copied, and execute the mutation.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
  <span style="color:#000080">&#34;set&#34;</span>:[
    {
      <span style="color:#000080">&#34;uid&#34;</span>: <span style="color:#d14">&#34;LEYLAS_UID&#34;</span>,
      <span style="color:#000080">&#34;follows&#34;</span>: {
        <span style="color:#000080">&#34;uid&#34;</span>: <span style="color:#d14">&#34;MICHAELS_UID&#34;</span>
      }
    }
  ]
}
</code></pre></div><h2 id="traversing-the-edges">Traversing the edges</h2>
<p>Graph databases offer many distinct capabilities. <code>Traversals</code> are among them.</p>
<p>Traversals answer questions or queries related to the relationship between the nodes.
Hence, queries like, <code>who does Michael follow?</code>
are answered by traversing the <code>follows</code> relationship.</p>
<p>Let&rsquo;s run a traversal query and then understand it in detail.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql">{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>find_follower(func:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">uid</span>(MICHAELS_UID)){<span style="color:#bbb">
</span><span style="color:#bbb">        </span>name<span style="color:#bbb">
</span><span style="color:#bbb">        </span>age<span style="color:#bbb">
</span><span style="color:#bbb">        </span>follows<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">          </span>name<span style="color:#bbb">
</span><span style="color:#bbb">          </span>age<span style="color:#bbb">
</span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p>Here&rsquo;s the result.</p>
<p><img src="https://blog.dgraph.io/images/tutorials/2/e-traversal.png" alt="traversal-result"></p>
<p>The query has three parts:</p>
<ul>
<li><strong>Selecting the root nodes.</strong></li>
</ul>
<p>First, you need to select one or more nodes as the starting point for traversals.
These are called the root nodes.
In the query above, we use the <code>uid()</code> function to select the node created for <code>Michael</code> as the root node.</p>
<ul>
<li><strong>Choosing the edge to be traversed</strong></li>
</ul>
<p>You need to specify the edge to be traversed, starting from the selected root nodes.
And then, the traversal, travels along these edges, from one end to the nodes at the other end.</p>
<p>In our query, we chose to traverse the <code>follows</code> edge starting from the node for <code>Michael</code>.
The traversal returns all the nodes connected to the node for <code>Michael</code> via the <code>follows</code> edge.</p>
<ul>
<li><strong>Specify the predicates to get back</strong></li>
</ul>
<p>Since Michael follows only one person, the traversal returns just one node.
These are <code>level-2</code> nodes. The root nodes constitute the nodes for <code>level-1</code>.
Again, we need to specify which predicates you want to get back from <code>level-2</code> nodes.</p>
<p><img src="https://blog.dgraph.io/images/tutorials/2/j-explain.JPG" alt="get_node_from_uid"></p>
<p>You can extend the query to make use of <code>level-2</code> nodes and traverse the Graph further and deeper.
Let&rsquo;s explore that in the next section.</p>
<h4 id="multi-level-traversals">Multi-level traversals</h4>
<p>The first level of traversal returns people followed by Michael.
The next level of traversal further returns the people they in-turn follow.</p>
<p>This pattern can be repeated multiple times to achieve multi-level traversals.
The depth of the query increases by one as we traverse each level of the Graph.
That&rsquo;s when we say that the query is deep!</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql">{<span style="color:#bbb">
</span><span style="color:#bbb">  </span>find_follower(func:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">uid</span>(MICHAELS_UID))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>name<span style="color:#bbb">
</span><span style="color:#bbb">    </span>age<span style="color:#bbb">
</span><span style="color:#bbb">    </span>follows<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">      </span>name<span style="color:#bbb">
</span><span style="color:#bbb">      </span>age<span style="color:#bbb">
</span><span style="color:#bbb">      </span>follows<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">        </span>name<span style="color:#bbb">
</span><span style="color:#bbb">        </span>age<span style="color:#bbb">
</span><span style="color:#bbb">      </span>}<span style="color:#bbb">
</span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p><img src="https://blog.dgraph.io/images/tutorials/2/f-level-3-traverse.png" alt="level-3-query"></p>
<p>Here is one more example from the extention of the last query.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql">{<span style="color:#bbb">
</span><span style="color:#bbb">  </span>find_follower(func:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">uid</span>(MICHAELS_UID))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>name<span style="color:#bbb">
</span><span style="color:#bbb">    </span>age<span style="color:#bbb">
</span><span style="color:#bbb">    </span>follows<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">      </span>name<span style="color:#bbb">
</span><span style="color:#bbb">      </span>age<span style="color:#bbb">
</span><span style="color:#bbb">      </span>follows<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">        </span>name<span style="color:#bbb">
</span><span style="color:#bbb">        </span>age<span style="color:#bbb">
</span><span style="color:#bbb">        </span>follows<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">          </span>name<span style="color:#bbb">
</span><span style="color:#bbb">          </span>age<span style="color:#bbb">
</span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span><span style="color:#bbb">      </span>}<span style="color:#bbb">
</span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p><img src="https://blog.dgraph.io/images/tutorials/2/g-level-4-traversal.png" alt="level 3"></p>
<p>This query is really long! The query is four levels deep.
In other words, the depth of the query is four.
If you ask, isn&rsquo;t there an in-built function that makes multi-level deep queries or traversals easy?</p>
<p>The answer is Yes!
That&rsquo;s what the <code>recurse()</code> function does.
Let&rsquo;s explore that in our next section.</p>
<h4 id="recursive-traversals">Recursive traversals</h4>
<p>Recursive queries makes it easier to perform multi-level deep traversals.
They let you easily traverse a subset of the Graph.</p>
<p>With the following recursive query, we achieve the same result as our last query.
But, with a much better querying experience.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql">{<span style="color:#bbb">
</span><span style="color:#bbb">  </span>find_follower(func:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">uid</span>(MICHAELS_UID))<span style="color:#bbb"> </span><span style="color:#3c5d5d;font-weight:bold">@recurse</span>(depth:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">4</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>name<span style="color:#bbb">
</span><span style="color:#bbb">    </span>age<span style="color:#bbb">
</span><span style="color:#bbb">    </span>follows<span style="color:#bbb">
</span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p>In the query above, the <code>recurse</code> function traverses the graph starting from the node for <code>Michael</code>.
You can choose any other node to be the starting point.
The depth parameter specifies the maximum depth the traversal query should consider.</p>
<p>Let&rsquo;s run the recursive traversal query after replacing the placeholder with the UID of node for Michael.</p>
<p><img src="https://blog.dgraph.io/images/tutorials/2/h-recursive-traversal.png" alt="recurse"></p>
<p><a href="https://docs.dgraph.io/query-language/#recurse-query">Check out the docs</a> for detailed instructions on using the <code>recurse</code> directive.</p>
<h4 id="edges-have-directions">Edges have directions</h4>
<p>Edges in Dgraph have directions.</p>
<p>For instance, the <code>follows</code> edge emerging from the node for <code>Michael</code>, points at the node for <code>Pawan</code>.
They have a notion of direction.</p>
<p>Traversing along the direction of an edge is natural to Dgraph.
We&rsquo;ll learn about traversing edges in reverse direction in our future episodes.</p>
<h2 id="deleting-a-predicate">Deleting a predicate</h2>
<p>Predicates of a node can be deleted using the <code>delete</code> mutation.
Here&rsquo;s the syntax of the delete mutation to delete any predicate of a node,</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql">{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>delete<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">        </span><span style="color:#a61717;background-color:#e3d2d2">&lt;</span>UID<span style="color:#a61717;background-color:#e3d2d2">&gt;</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">&lt;</span>predicate_name<span style="color:#a61717;background-color:#e3d2d2">&gt;</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">*</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p>Using the mutation syntax above, let&rsquo;s compose a delete mutation.
Let&rsquo;s delete the <code>age</code> predicate of the node for <code>Michael</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql">{<span style="color:#bbb">
</span><span style="color:#bbb">  </span>delete<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">    </span><span style="color:#a61717;background-color:#e3d2d2">&lt;</span>MICHAELS_UID<span style="color:#a61717;background-color:#e3d2d2">&gt;</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">&lt;</span>age<span style="color:#a61717;background-color:#e3d2d2">&gt;</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">*</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">.</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p><img src="https://blog.dgraph.io/images/tutorials/2/i-delete.png" alt="recurse"></p>
<h2 id="wrapping-up">Wrapping up</h2>
<p>In this tutorial, we learned about the CRUD operations using UIDs.
We also learned about <code>recurse()</code> function.</p>
<p>Before we wrap, here&rsquo;s a sneak peek into our next tutorial.</p>
<p>Did you know that you could search predicates based on their value?</p>
<p>Sounds interesting?</p>
<p>See you all soon in the next tutorial. Till then, happy Graphing!</p>

                        </div>

                        
    <aside class="post__authors">
                <div class="tile author-tile">

    <img src="https://blog.dgraph.io/images/people/karthic.png" class="author-tile__photo">

    <h4 class="author-tile__title">
        <a href="https://blog.dgraph.io/authors/karthic/">Karthic Rao</a>,
        Author
    </h4>

    <p>Karthic is a Developer Advocate who strives to create value across multiple
areas at Dgraph. He has experience working with a wide range of startups in
different domains across the globe. Prior to Dgraph, Caddy Server and Minio are
the major Go open source projects he has contributed significantly to. He is an
avid blogger, speaker, and musician. When not at work you could find him
reading, at the gym, meditating, practicing music, or on motorcycle trips.</p>


    
        <nav class="author-tile__social">

            
                <a href="https://www.linkedin.com/in/hackintoshrao/" target="_blank">
                    <i class="fab fa-linkedin"></i>
                </a>
            

            
                <a href="https://twitter.com/hackintoshrao" target="_blank">
                    <i class="fab fa-twitter"></i>
                </a>
            

            
                <a href="https://github.com/hackintoshrao" target="_blank">
                    <i class="fab fa-github"></i>
                </a>
            

        </nav>
    

</div>

            
        

    </aside>



                        <div class="post__comments">

    <div id="discourse-comments"></div>

    
    <script type="text/javascript">
        DiscourseEmbed = {
            discourseUrl: "https:\/\/discuss.dgraph.io\/",
            topicId:  5251 
            };
        (function() {
            var d = document.createElement("script");
            d.type = "text/javascript";
            d.async = true;
            d.src = DiscourseEmbed.discourseUrl + "javascripts/embed.js";
            (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(d);
        })();
    </script>
    <noscript>Please enable JavaScript to view the comments on <a href="https://discuss.dgraph.io/">discuss</a>.</noscript>
    

</div>


                        <div class="modal fade" id="runnable-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <a href="#" data-dismiss="modal" class="modal-close-btn">
    Close
  </a>

  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">

      </div>
    </div>
  </div>
</div>

                    </div>
                </div>

                <div class="col-12 col-md-4 col-lg-3 offset-lg-1">
                    <div class="page-body__sidebar">

                        




<div class="post__related">

    <h3>Related Posts</h3>

    
    <div class="post">

        <div class="post__image">
    <img src="https://blog.dgraph.io//images/graphql/cover-1.png">
</div>


    	<div class="post__header">

    		<div class="post__date">

    
        Sun, Apr 12, 2020
    
    
</div>


    		<h4 class="post__title">
    			<a href="https://blog.dgraph.io/post/designing-graphql-schemas/">Designing GraphQL schemas</a>
    		</h4>

    		
<div class="post__byline">

    
            by <a href="https://blog.dgraph.io/authors/karthic/">Karthic Rao</a>
        
    

</div>



    	</div>

    </div>
    
    <div class="post">

        <div class="post__image">
    <img src="https://blog.dgraph.io//images/tutorials/8/cover.jpg">
</div>


    	<div class="post__header">

    		<div class="post__date">

    
        Tue, Jan 28, 2020
    
    
</div>


    		<h4 class="post__title">
    			<a href="https://blog.dgraph.io/post/tutorial-8-getting-started/">Getting started with Dgraph-8: Easily build location-aware apps using our native geolocation features</a>
    		</h4>

    		
<div class="post__byline">

    
            by <a href="https://blog.dgraph.io/authors/karthic/">Karthic Rao</a>
        
    

</div>



    	</div>

    </div>
    

</div>



                        
<div class="post__tags">

    <h3>Tags</h3>

    <div>

        
            
            
                <a href="https://blog.dgraph.io/tags/tutorial/">tutorial</a>
            
        
            
            
                <a href="https://blog.dgraph.io/tags/devrel/">devrel</a>
            
        

    </div>

</div>



                        <aside class="post__cta">

    <h3>
        Deploy Dgraph<br>
        in Minutes
    </h3>

    <p>Dgraph does more than just simplify your workload. Discover what makes Dgraph GraphQL the best option for the job.</p>

    <a href="https://dgraph.io/downloads" class="button button--secondary">
        <span>Download</span>
        <i class=" fas fa-arrow-right"></i>
    </a>

</aside>


                    </div>
                </div>

            </div>
        </div>
    </section>

    <footer class="page-footer">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-5 col-sm-4">
        <div class="row">
          <div class="col-12 col-md-6 page-footer__nav">
            <h3 class="zeta">Products</h3>
            <ul>
              <li><a href="https://dgraph.io/graphql">GraphQL</a></li>
              <li><a href="https://dgraph.io/enterprise">Enterprise</a></li>
              <li><a href="https://dgraph.io/downloads">Downloads</a></li>
            </ul>
          </div>
          <div class="col-12 col-md-6 page-footer__nav">
            <h3 class="zeta">Learn</h3>
            <ul>
              <li><a href="https://dgraph.io/blog" target="_blank">Blog</a></li>
              <li><a href="https://tour.dgraph.io" target="_blank">Interactive Tour</a></li>
              <li><a href="https://discuss.dgraph.io" target="_blank">Forum</a></li>
              <li><a href="https://slack.dgraph.io" target="_blank">Slack</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-5 col-sm-4">
        <div class="row">
          <div class="col-12 col-md-6 page-footer__nav">
            <h3 class="zeta">Docs</h3>
            <ul>
              <li><a href="https://docs.dgraph.io" target="_blank">Dgraph Docs</a></li>
              <li><a href="https://graphql.dgraph.io/docs/" target="_blank">GraphQL Docs</a></li>
            </ul>
          </div>
          <div class="col-12 col-md-6 page-footer__nav">
            <h3 class="zeta">Company</h3>
            <ul>
              <li><a href="https://dgraph.io/about">Team</a></li>
              <li><a href="https://dgraph.io/careers">Careers</a></li>
              <li><a href="https://dgraph.io/contact">Contact</a></li>
              <li><a href="https://dgraph.io/conduct">Conduct</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-6 col-md-4 col-lg-3 offset-lg-1 border-above-sm">
        <div class="page-footer__cta"><a href="https://dgraph.io/downloads" title="Download" class="button button--secondary"><span>Download</span><i class="fas fa-arrow-right"></i></a></div>
        <div class="page-footer__address">
          <p>
            655 Montgomery Street, 7th Floor<br>
            San Francisco, CA 94111
          </p>
          <hr>
          <p><a href="mailto:contact@dgraph.io">contact@dgraph.io</a></p>
        </div>
      </div>
    </div>
    <div class="page-footer__social">
      <ul>
        <li><a href="https://twitter.com/dgraphlabs" target="_blank"><i class="fab fa-twitter"></i></a></li>
        <li><a href="https://github.com/dgraph-io/dgraph" target="_blank"><i class="fab fa-github"></i></a></li>
        <li><a href="https://www.youtube.com/channel/UCghE41LR8nkKFlR3IFTRO4w" target="_blank"><i class="fab fa-youtube"></i></a></li>
        <li><a href="https://slack.dgraph.io" target="_blank"><i class="fab fa-slack"></i></a></li>
        <li><a href="https://www.linkedin.com/company/dgraph-labs" target="_blank"><i class="fab fa-linkedin"></i></a></li>
      </ul>
    </div>
    <div class="page-footer__copyright">
      <p>
        <Copyright>&copy; 2017-2020 Dgraph Labs, Inc.</Copyright>
      </p>
    </div>
  </div>
</footer>

    <script src="https://blog.dgraph.io//js/clipboard.min.js"></script>
    <script
      src='https://blog.dgraph.io//js/runnable.js?29f8ba4fb8d90804cf24ff53b70192ad'
    ></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>




<script>
  window.Countly = window.Countly || {};
  Countly.q = Countly.q || [];

  Countly.q.push(['track_sessions']);
  Countly.q.push(['track_pageview']);
  (function() {
  	var cly = document.createElement('script');
  	cly.type = 'text/javascript';
  	cly.async = true;
  	cly.src = "https://dgraph.io/assets/js/unminified/stats/dgraph-stats.min.js";
  	cly.onload = function() {
      Countly.init({
        app_key: "e93284ab5e5d21ef9eb16a94516b3c1c6eba1015",
        url: "https://stats.dgraph.io",
        force_post: true,
      })
  	};
  	document.body.appendChild(cly);
  })();
</script>


<script>
$(document.links)
  .filter(function() {
    return this.hostname != window.location.hostname;
  })
  .attr("target", "_blank");
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/visibility.js/1.2.4/visibility.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">
<link
  href='https://blog.dgraph.io//css/heart.css?24a50879951b2391f04750723b4a012e'
  rel="stylesheet">
<link
  href='https://blog.dgraph.io//css/github-engage.css?d60d80bf2b6a24350cdb5d834ab47e27'
  rel="stylesheet">

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js"
  integrity="sha256-7/yoZS3548fXSRXqc/xYzjsmuW3sFKzuvOCHd06Pmps="
  crossorigin="anonymous"
></script>
<script
  type="text/javascript"
  src='https://blog.dgraph.io//js/custom.js?94f0c667422b8dac293e14c9c49872e3'
></script>

<script src="//unpkg.com/@dgraph-io/community"></script>


</body>

    <script src="https://blog.dgraph.io/js/footnotes.js"></script>

</html>

