<!DOCTYPE html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, minimum-scale=1">

    <link rel="apple-touch-icon" sizes="57x57" href="https://dgraph.io/assets/images/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="https://dgraph.io/assets/images/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="https://dgraph.io/assets/images/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="https://dgraph.io/assets/images/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="https://dgraph.io/assets/images/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="https://dgraph.io/assets/images/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="https://dgraph.io/assets/images/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="https://dgraph.io/assets/images/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://dgraph.io/assets/images/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="https://dgraph.io/assets/images/favicons/android-icon-192x192.png">
    <link rel="manifest" href="https://dgraph.io/assets/images/favicons/manifest.json">
    <link rel="icon" type="image/png" sizes="32x32" href="https://dgraph.io/assets/images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://dgraph.io/assets/images/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://dgraph.io/assets/images/faviconsfavicon-16x16.png">
    <link rel="shortcut icon" href="https://dgraph.io/assets/images/favicons/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="https://dgraph.io/assets/images/faviconsms-icon-144x144.png">
    <meta name="msapplication-config" content="https://dgraph.io/assets/favicons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://blog.dgraph.io//index.xml">

  
    <title>Building a Native GraphQL Database: Challenges, Learnings and Future - Dgraph Blog</title>
    <meta property='og:title' content="Building a Native GraphQL Database: Challenges, Learnings and Future - Dgraph Blog">
    <meta property="og:type" content="article">
  

  <meta property="og:url" content="https://blog.dgraph.io/post/building-native-graphql-database-dgraph/">
  
  <meta property="og:image" content="https://blog.dgraph.io//images/dgraph-graphql-sticker.jpg">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js" integrity="sha256-0rguYS0qgS6L4qVzANq4kjxPLtvnp5nn2nB5G1lWRv4=" crossorigin="anonymous"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/styles/default.min.css" rel="stylesheet" integrity="sha256-Zd1icfZ72UBmsId/mUcagrmN7IN5Qkrvh75ICHIQVTk=" crossorigin="anonymous" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.14.2/highlight.min.js" integrity="sha256-sNPiigbfSkqUzMc5rgrdztLnneCMAp6W9wetJUZu9Zw=" crossorigin="anonymous"></script>

  <link
    href='https://blog.dgraph.io//css/runnable.css?7bbf71b4888bc97241e85bc7326a12fe'
    rel="stylesheet"
  />
  <link
    href='https://blog.dgraph.io//css/runnable-custom.css?74110b504a7b8a6e92a95279cfa96032'
    rel="stylesheet"
  />

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500&display=swap" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous" />

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" />

  <link href="https://dgraph.io/assets/css/style.min.css?05042020-3" rel="stylesheet" type="text/css" />

  <link href="https://dgraph.io/assets/css/font-awesome/css/all.css" rel="stylesheet"/>

  <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.js" integrity="sha256-x3BtPVERvw1ozPlwivuFLZoViFCeAAs1Gt6SxEedmo8=" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/codemirror.css" integrity="sha256-7sZe9dsqyNZC9Mk+WPRB7nVvPPPXyorzm2QKqlgXC4k=" crossorigin="anonymous" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/addon/edit/closebrackets.min.js" integrity="sha256-qhu2a7DSpQaammMaLw1iruxBpxmgdw8mdQaQWQUokcY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.25.0/mode/javascript/javascript.min.js" integrity="sha256-7Bdg/UdDMmHDPafpQDYZNPCEbnRP7eAvu+2hEoqRCXs=" crossorigin="anonymous"></script>
  

  <script src="https://cdn.jsdelivr.net/npm/algoliasearch@3/dist/algoliasearch.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.0.0/dist/instantsearch.production.min.js" integrity="sha256-6S7q0JJs/Kx4kb/fv0oMjS855QTz5Rc2hh9AkIUjUsk=" crossorigin="anonymous"></script>
  <script src="https://blog.dgraph.io//js/search.js?04292020"></script>

  
  
    
      <meta name="twitter:card" content="summary_large_image"/>
      <meta name="twitter:image" content="https://blog.dgraph.io//images/dgraph-graphql-sticker.jpg"/>
    
  

  <meta name="twitter:title" content="Building a Native GraphQL Database: Challenges, Learnings and Future"/>
  <meta name="twitter:description" content="&ldquo;GraphQL is not a Graph DB query language &mdash; it&rsquo;s a replacement for REST APIs.&quot;
 That&rsquo;s my standard opening statement whenever talking about Dgraph&rsquo;s choice of the query language."/>
  <meta name="twitter:site" content="@dgraphlabs"/>

  
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-666192333"></script>
  <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'AW-666192333');</script>
</head>


<body class="blog-single has-lightning" data-gr-c-s-loaded="true">

    <header id="page-header" class="page-header">
	<div class="page-logo">
		<a href="https://dgraph.io/">
			<img src="https://dgraph.io/assets/images/logo.svg">
		</a>
	</div>
	<nav class="page-nav">
    <ul>
        <li>
            <div data-label="Products">
                <span>Products</span>
            </div>
            <ul>
                <li>
                    <a href="https://dgraph.io/graphql" data-label="GraphQL">
                        <span>GraphQL</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/enterprise" data-label="Enterprise">
                        <span>Enterprise</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/downloads" data-label="Downloads">
                        <span>Downloads</span>
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <div data-label="Learn" class="is-active">
                <span>Learn</span>
            </div>
            <ul>
                <li>
                    <a href="https://dgraph.io/blog" data-label="Blog">
                        <span>Blog</span>
                    </a>
                </li>
                <li>
                    <a href="https://tour.dgraph.io" target="_blank" data-label="Interactive Tour">
                        <span>Interactive Tour</span>
                    </a>
                </li>
                <li>
                    <a href="https://discuss.dgraph.io" target="_blank" data-label="Forum">
                        <span>Forum</span>
                    </a>
                </li>
                <li>
                    <a href="https://slack.dgraph.io" target="_blank" data-label="Slack">
                        <span>Slack</span>
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <div data-label="Docs"><span>Docs</span></div>
            <ul>
                <li>
                    <a href="https://docs.dgraph.io" target="_blank" data-label="Dgraph Docs">
                        <span>Dgraph Docs</span>
                    </a>
                </li>
                <li>
                    <a href="https://graphql.dgraph.io/docs/" target="_blank" data-label="GraphQL Docs">
                        <span>GraphQL Docs</span>
                    </a>
                </li>
            </ul>
        </li>
        <li>
            <div data-label="Company"><span>Company</span></div>
            <ul>
                <li>
                    <a href="https://dgraph.io/about" data-label="Team">
                        <span>Team</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/careers" data-label="Careers">
                        <span>Careers</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/contact" data-label="Contact">
                        <span>Contact</span>
                    </a>
                </li>
                <li>
                    <a href="https://dgraph.io/conduct" data-label="Conduct">
                        <span>Conduct</span>
                    </a>
                </li>
            </ul>
        </li>
    </ul>
</nav>

	<div class="page-cta">
    <ul>
        <li class="hide-tablet">
            <a href="https://dgraph.io/contact" title="Contact">Contact</a>
        </li>
        <li>
            <a href="https://dgraph.io/downloads" title="Download" class="button button--secondary">
                <span>Download</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </li>
    </ul>
</div>

</header>




    <section class="page-body">
        <div class="container">
            <div class="row">

                <div class="col-12 col-md-8">
                    <div class="page-body__content post">

                        <div class="post__meta">

                            <div class="post__date">

    
        Tue, Oct 29, 2019
    
    
</div>


                            <div class="post__share">
                                
                                    <a href="https://twitter.com/share?text=Building%20a%20Native%20GraphQL%20Database%3a%20Challenges%2c%20Learnings%20and%20Future&amp;url=https%3a%2f%2fblog.dgraph.io%2fpost%2fbuilding-native-graphql-database-dgraph%2f&amp;via=dgraphlabs" target="_blank">
                                        <i class="fab fa-twitter"></i>
                                    </a>
                                
                            </div>

                        </div>

                        <div class="post__cover">

                            <img src="https://blog.dgraph.io//images/dgraph-graphql-sticker.jpg">

                            <div class="post__header">

                                <h1 class="post__title">
                                    Building a Native GraphQL Database: Challenges, Learnings and Future
                                </h1>

                                
<div class="post__byline">

    
            by <a href="https://blog.dgraph.io/authors/mrjn/">Manish Rai Jain</a>
        
    

</div>



                            </div>

                        </div>

                        <div class="post__content">
                            <blockquote>
<p><strong>&ldquo;GraphQL is not a Graph DB query language &mdash; it&rsquo;s a replacement for
REST APIs.&quot;</strong></p>
</blockquote>
<p>That&rsquo;s my standard opening statement whenever talking about Dgraph&rsquo;s
choice of the query language.</p>
<p>Most people who don&rsquo;t know GraphQL assume it&rsquo;s a graph database query language.
Most people who know GraphQL wonder how a graph database is being powered by
it.</p>
<p>Our focus at <a href="https://github.com/dgraph-io/dgraph">Dgraph</a> has always been on helping you build apps using an
amazingly advanced graph database. And that extends to making sure Dgraph has a
great development experience for modern developers. Other graph databases choose
Gremlin, Cypher or write something custom inspired by SQL for their query
language. We went a slightly different route in Dgraph, <strong>aiming to build a
query language that modern developers would find useful and intuitive.</strong></p>
<p>Our journey with GraphQL started almost 4 years ago, when
I wrote this email to my ex-manager at Google.</p>
<p>October 22, 2015</p>
<blockquote>
<p>I wanted your opinion on Graph languages. I&rsquo;m working on building Dgraph
outside of Google &ndash; distributed low latency graph serving system
essentially. This project is going to be open-source after the MVP
launch in November. It&rsquo;s still early stage, and I&rsquo;m debating which graph
query language to support. Facebook just launched GraphQL, which seems
pretty nicely written to me. But, I&rsquo;ve also heard a lot about Gremlin.
What do you think of them? I don&rsquo;t want to stretch out too thin and
support both, at least at this stage. Which one do you think would be
worth aiming at (given it&rsquo;s a new graph database)?</p>
</blockquote>
<p>The reply was quick, short and sweet.</p>
<blockquote>
<p>I like GraphQL, it has most of the nice properties of MQL<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.  Gremlin has more
Hadoop support if that matters.</p>
</blockquote>
<p>December 1, 2015</p>
<blockquote>
<p>Thanks for your advice! Went with GraphQL, quite like the query language so far.
Just released: <a href="https://github.com/dgraph-io/dgraph">https://github.com/dgraph-io/dgraph</a></p>
</blockquote>
<p><strong>And that was how GraphQL became the native query language for a new
database called Dgraph.</strong> Dgraph <a href="https://github.com/dgraph-io/dgraph/commit/73b0e41e2254c6b8cb15e47f521066224de69243">v0.1</a> supported (a version of) GraphQL. Dgraph
<a href="https://github.com/dgraph-io/dgraph/releases/tag/v1.1.0">v1.1</a>, which launched last month, still only supports GraphQL. Neither
version ever really achieved spec compliance with GraphQL, but for different
reasons. The first was too early to achieve feature parity, the latter had
deliberately deviated from the spec.</p>
<p>In this post, we talk about GraphQL and the choices we&rsquo;ve made in moving beyond
the GraphQL spec to build a real graph database query language.  We talk about
the common issues GraphQL engineers face and how Dgraph solves them. We then
come full-circle back to the GraphQL spec and <a href="https://graphql.dgraph.io/">our next releases</a> which will
provide native GraphQL backed by Dgraph.</p>
<h3 id="what-is-graphql">What is GraphQL</h3>
<p>As per the spec, GraphQL is a query language designed to build client
applications by providing an intuitive and flexible syntax for describing data
requirements. In layman terms, <strong>GraphQL allows a way for clients to understand
what the server provides and specifically request for data useful to the
client.</strong></p>
<p>Typical access patterns for applications tend to be graph shaped. For example, a
question has answers, and comments; answers have comments; comments can have
comments; all might have likes, and so on. Outside the general understanding,
there&rsquo;s no real mention of or association with the backend system being a graph
system in the spec. Both the July 2015 <a href="https://graphql.github.io/graphql-spec/July2015/">draft</a> and the current working
<a href="https://graphql.github.io/graphql-spec/draft/">draft</a> mention the word &ldquo;graph&rdquo; only twice: once referring to a
fragment (a concept in GraphQL) and once in a comment.</p>
<p>Despite <a href="https://nordicapis.com/interview-with-graphql-co-creator-lee-byron/">Lee Byron&rsquo;s</a> reservations, GraphQL is widely assumed to be a
REST API replacement. It provides a simple way for developers to retrieve only
as much of their strongly-typed dataset as they need, and in the shape in which
they need it.</p>
<p>REST API endpoints are fixed. Each endpoint would give you a pre-determined
amount of data, irrespective of how much data the client needs.  Squeezing
efficiency in such a system leads developers to generate <strong>an ever-increasing
number of endpoints,</strong> each returning a contained set of results.  The client
would then call them in sequence to generate a view for the end-user.  There are
guidelines around what would be an HTTP POST, what would make a PUT, what would
be a GET,  and what the return error codes would be. By now, most developers are
supposed to know these and be good at determining when to use what.  These make
for clichéd interview questions, which don&rsquo;t guarantee you a tech job if you get
them right, but surely turn the interview negative if you happen to falter.</p>
<p>GraphQL turns all of this on its head. There&rsquo;s <strong>only one endpoint,</strong> most
<a href="https://graphql.org/learn/serving-over-http/">accesses</a> are POST, all return codes are HTTP 200, with the errors
captured in a JSON response. The server publishes what all the clients can
access, and the client determines how much it wants to access, depending upon
its use case. It is simple and powerful.</p>
<p>Considering GraphQL is put in the same category as <a href="https://nordicapis.com/when-to-use-what-rest-graphql-webhooks-grpc/">REST, gRPC and
webhooks</a>, calling it a <em>&ldquo;QL&rdquo;</em> (Query Language) is a bit of a stretch.
<strong>It is really a syntax for describing an API.</strong>  If you take up
GraphQL, you get to build whatever API you like and use GraphQL to describe the
API&rsquo;s types and operations. Those things then describe the data that your API
can return.</p>
<h3 id="why-choose-graphql">Why choose GraphQL?</h3>
<p>GraphQL had never been used as a query language for any database system. We
bought the simplicity and power of this system, but also felt like we were
taking a risk in going with unproven technology, particularly considering it
is a syntax for describing an API (like REST) rather than a query
language.</p>
<p>For <a href="https://github.com/dgraph-io/dgraph">Dgraph</a>, we needed a graph query language.  And a language powerful enough to
describe all the sorts of graph queries that we wanted to enable for users.  It
turns out, however, that a GraphQL-like syntax is a great place to start for two
main reasons:</p>
<p><strong>The query structure naturally models the graph that the query is traversing.</strong>
A GraphQL query is like a structured explanation of the graph you&rsquo;d like as a
result. Other graph query languages and even SQL joins, follow edges in the
graph, but return lists of results, losing the relationships between the
entities in the response. GraphQL, on the other hand, responds in the
same structure as both the graph itself and the query tree, allowing the
relationships to stay intact. The bracketing and indentation are so revealing of
the query, graph traversal and intended result, that at a glance you know where
it is going. So one can, for example, figure out exactly how a director is
connected to an actor and through which movie.</p>
<p><strong>The JSON result format of GraphQL not only naturally models the returned
graph, but it&rsquo;s also the most useful structure for developers to consume.</strong>  Graph
results that are embedded in other formats are difficult to consume for
developers.  Special tools and libraries are required.  Your language might not
have a tool for the format, and it&rsquo;s not easy to pass the result on to other
parts of your system because those too need to be dependent on the workings of
the format.  Those formats get in the way of developers trying to use the graph
results.  But a GraphQL result works with any JSON parser, in any language, and
naturally maps to the types you&rsquo;re using in your programming language.  GraphQL
is easy to consume and just as easy to pass on, knowing that the next developer
is also happy.</p>
<p>We did not even fathom how wildly popular GraphQL would become.
While we were focused on building the most advanced graph database in the
market, the popularity of GraphQL intermixed with the popularity of Dgraph. One
year since the original email went out, an article came out hailing
Dgraph as a potential <a href="https://react-etc.net/entry/dgraph-has-the-potential-to-become-a-defacto-standard-for-graphql-graph-databases"><strong>defacto GraphQL database</strong></a>.</p>
<h3 id="hitting-potholes-the-challenges">Hitting Potholes: The Challenges</h3>
<p>We found the article to be encouraging and perfectly captured our efforts.  What
they said resonated with us, but also exposed some gashes from our year of
effort.</p>
<blockquote>
<p>GraphQL is not a Database Query Language, but it can be &mdash; <a href="https://react-etc.net/entry/dgraph-has-the-potential-to-become-a-defacto-standard-for-graphql-graph-databases">Article</a></p>
</blockquote>
<p>By this time, we were having doubts about whether GraphQL can really be a query
language for a database. <strong>We were no longer convinced that the official spec
matched the needs of a database.</strong></p>
<h4 id="mutations">Mutations</h4>
<p>The original GraphQL draft spec was light on how mutations should be executed. The
idea was (and still is) that the client would call mutation functions, with
arguments, which are implemented by custom code written in the backend. Expecting
a database user to provide a plugin function for data ingest just does not make
sense. Moreover, any basic function we could have provided wouldn&rsquo;t work for the
thousands of updates Dgraph would see in a single network call.</p>
<p>So, we realized we needed to build something custom into the spec to allow for
inserting and modifying data in a standardized way. We achieved this by allowing
RDF <a href="https://docs.dgraph.io/mutations/">data input</a> in mutation blocks. <strong>This was the first major foray outside
the official spec for Dgraph.</strong> Later, we extended this to allow JSON inputs.</p>
<h4 id="variables-and-query-blocks">Variables and Query Blocks</h4>
<p>Databases typically allow a way to temporarily <em>hold</em> a result from one step in
a query, using it later to execute another step in the query. This is the &ldquo;SQL AS&rdquo;
query concept &mdash; something that&rsquo;s missing from GraphQL. We introduced
this as <a href="https://docs.dgraph.io/query-language/#query-variables">variables</a> in Dgraph, allowing a user to query for some data and use
its result in another portion of the same query.</p>
<p><strong>The interplay of variables and query blocks adds significant query power to
Dgraph.</strong></p>
<p>GraphQL realized that avoiding repeated calls to the database is a great practice,
and has the concept of query blocks. That is, within the same <code>query { ... }</code>
block, many queries (executed concurrently) are allowed. Dgraph&rsquo;s variables
extend that further.</p>
<p>Dgraph allows a user to specify <a href="https://docs.dgraph.io/query-language/#multiple-query-blocks">many different blocks</a> to not only
allow concurrent execution of these blocks for speed improvements, but also to
divide the query up into <em>function-like</em> structures, making it easier to read
and understand, and to share values between them.</p>
<p>In Dgraph, one block can define
variables that are used by other blocks. Dgraph then orders block execution
in the right way to run the entire query, sometimes running blocks
concurrently, sometimes in serial order, <strong>to execute the query in the most
efficient way possible.</strong></p>
<p>Dgraph extends the GraphQL syntax so that any part of a query can be collected in
a variable.  Dgraph adds <code>A as ...some-query-field...</code> to mean variable <code>A</code> takes
on the values (nodes or scalar values) calculated by the following field.</p>
<p>Doing this allows running a query that&rsquo;s dependent on a previous result without
having to read the result back to the client, deserialize and pass parameters to
a new query. It also means you can return multiple related subgraphs from a
single query and that you can reshape the result to fit the client&rsquo;s requirement.
<strong>With Dgraph&rsquo;s built-in <a href="https://docs.dgraph.io/query-language/#aggregation">aggregation</a>, you can also use variables to build
calculations into a query.</strong>  You can even break out sub results and use those elsewhere.</p>
<p>For example, the query below finds a movie, calculates the number of roles the
actors in that movie has had, and then returns that as a result about actors
(ordered by the number of roles), rather than a result about movies as per the
initial query. <em>All that in one network call!</em></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql"><span style="color:#000;font-weight:bold">query</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#458;font-weight:bold">var</span>(func:<span style="color:#458;font-weight:bold">allofterms</span>(name<span style="color:#3c5d5d;font-weight:bold">@en</span>,<span style="color:#bbb"> </span><span style="color:#d14">&#34;The Princess Bride&#34;</span>))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>starring<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">      </span>actors<span style="color:#bbb"> </span>as<span style="color:#bbb"> </span>performance<span style="color:#a61717;background-color:#e3d2d2">.</span>actor<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">        </span>roles<span style="color:#bbb"> </span>as<span style="color:#bbb"> </span>count(actor<span style="color:#a61717;background-color:#e3d2d2">.</span>film)<span style="color:#bbb">
</span><span style="color:#bbb">      </span>}<span style="color:#bbb">
</span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span><span style="color:#bbb">
</span><span style="color:#bbb">  </span>totalRoles(func:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">uid</span>(actors),<span style="color:#bbb"> </span>orderasc:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">val</span>(roles))<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>name<span style="color:#3c5d5d;font-weight:bold">@en</span><span style="color:#bbb">
</span><span style="color:#bbb">    </span>numRoles<span style="color:#bbb"> </span>:<span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">val</span>(roles)<span style="color:#bbb">
</span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p>Again that&rsquo;s a great feature for developers using Dgraph: you don&rsquo;t have to
orchestrate multiple queries and input parameters and you don&rsquo;t have to dig
through a whole result graph to get the data that matters for particular
operations; you can just return multiple subgraphs that make sense, deserialize
into a model that works for your algorithms and off you go.</p>
<p><strong>Dgraph&rsquo;s query blocks add significant extra query power,</strong> while also simplifying
queries and reducing the network calls from the client to the server, and this is
an easy win for Dgraph users.</p>
<h4 id="filters-and-functions">Filters and Functions</h4>
<p>The first part of starting any query to a database is to reduce the search
space. <code>select * from X where Y=Z</code>, reduces the search space to table X and in
particular, only rows where column Y has a value Z. <code>select * from *</code>
does not exist, because a database would not know where to begin looking.</p>
<p>The GraphQL draft spec had examples which all started with a certain id. While it
would be great to know the id of an object, it would be incredibly hard for a
developer to code that way. Therefore, we needed a way for a user to give a
starting point.</p>
<p><strong>Dgraph introduced the concept of functions,</strong> oftentimes powered by indices.
For example, a full-text index allows a user to search for entities using
<code>anyoftext</code> function.  Similarly, a trigram index allows using <code>regexp</code>
function.</p>
<p>Furthermore, we needed a way to filter the results, and not only one level of
filtering, <strong>but allowing the composition of these filters to build an entire filter
tree.</strong> We introduced brackets and operators to allow for these.</p>
<pre><code>// Dgraph
@filter((anyoftext(title, &quot;jump&quot;) OR eq(name, &quot;brown fox&quot;)) AND (NOT regexp(title, &quot;A quick.*&quot;)))

// (How it might look in) GraphQL
filter: { and: { or: { anyoftext: { title: &quot;jump&quot;}, eq: { name: &quot;brown fox&quot;} }, not: { regexp: { title: &quot;A quick.*&quot; }}}}
</code></pre><p>GraphQL would typically require each server is to implement its own filters
(normally as arguments on fields) and would use JSON input objects. The
syntax of which is not as intuitive, particularly when dealing with filter trees
like above. For example, compare the Dgraph infix syntax with the JSON-style
GraphQL syntax above.</p>
<h4 id="plus-minus">Plus Minus</h4>
<p>Dgraph introduced concepts like <a href="https://docs.dgraph.io/query-language/#facets-edge-attributes">Facets</a>, which are key-value pairs on edges,
adding properties to the edge instead of the node. Among other things, Facets
are great at storing weight of an edge to support queries like shortest path, or
k-shortest paths.</p>
<p>Dgraph also has many other features from full-text search to geo search, to
aggregations, built-in pagination support, and recursive queries. <strong>We&rsquo;ve packed
a whole lot into <a href="https://docs.dgraph.io/query-language/">GraphQL+-</a>.</strong></p>
<p>We also felt that the concept of unions, enums, and interfaces are not what a
database should implement natively. For these, and many more similar reasons, we
deviated just enough from the GraphQL spec that we could no longer call it
GraphQL. So, we switched the name of our query language to <code>GraphQL+-</code>.
<strong>Plus,</strong> because we added things to the query language (vars, blocks, etc.),
and <strong>Minus,</strong> because we removed things from it (unions, enums, etc.)</p>
<p>Ideas were floated to change the name entirely to something else, but we felt
there must be a way to converge these two worlds sometime in the future. <strong>We did
not want to deviate from the spec, we just had to do so</strong> to allow continue using
GraphQL as our native query language, while building a graph database.</p>
<p>In retrospect, if we really <em>really</em> wanted to, we could
have built ugly workarounds to stay within the confines of GraphQL &mdash; but our
goal was to have a simple and intuitive query language and that meant pushing
the boundaries to see what&rsquo;s possible, particularly at that early stage when
shaping the database.</p>
<h3 id="the-learnings">The Learnings</h3>
<p>Developers often come to us to ask about spec-compliant GraphQL support.  They
love Dgraph and what GraphQL+- has to offer, but also want spec compliant
GraphQL.  It&rsquo;s not something we considered initially because our focus was on a
great language and fast query.  But we can understand the reason for the
question: <strong>Developers want the Dgraph experience and query power, but with
integration into GraphQL growing ecosystem, tooling and development workflows.</strong></p>
<p>Dgraph&rsquo;s unique approach to graphs solves common GraphQL problems
by default, without any special code or handling.</p>
<h4 id="dgraph-solves-graphql-problems">Dgraph Solves GraphQL Problems</h4>
<p>GraphQL has bought you a simple language for clients and architecture for
your server, but now you&rsquo;ve got to engineer solutions around production issues.
It&rsquo;s a nice architecture for turning something that&rsquo;s not a graph into an API
that serves a graph, but that comes with a host of engineering and performance
concerns, in particular, <strong>related to the N+1 problem.</strong> There&rsquo;s caching, batching and
data loading to help, but they aren&rsquo;t a <em>panacea</em> and can introduce latencies and
complexity of their own.</p>
<p>All of these issues arise because of the disjoint between the underlying data
model and how the GraphQL server must query and present that data.</p>
<h4 id="query-execution-avoiding-the-n1-problem">Query Execution: Avoiding the N+1 Problem</h4>
<p><a href="https://itnext.io/what-is-the-n-1-problem-in-graphql-dd4921cb3c1a">N+1 problem</a> occurs when the <strong>GraphQL resolvers execute multiple trips to
the database/endpoint to resolve a single query,</strong> making one resolver
invocation per field invocation in the query. And the number of these round
trips are directly proportional to the number of results in the intermediate
steps.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-graphql" data-lang="graphql"><span style="color:#000;font-weight:bold">query</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">  </span><span style="color:#458;font-weight:bold">queryQuestions</span>(<span style="color:#000;font-weight:bold">...</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span><span style="color:#bbb">    </span>title<span style="color:#bbb">
</span><span style="color:#bbb">    </span>body<span style="color:#bbb">
</span><span style="color:#bbb">    </span>answers<span style="color:#bbb"> </span>{<span style="color:#bbb">         </span><span style="color:#998;font-style:italic"># N answers</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span>text<span style="color:#bbb">
</span><span style="color:#bbb">      </span>comments<span style="color:#bbb"> </span>{<span style="color:#bbb">      </span><span style="color:#998;font-style:italic"># N * M comments</span><span style="color:#bbb">
</span><span style="color:#bbb">        </span>text<span style="color:#bbb">
</span><span style="color:#bbb">        </span>likes<span style="color:#bbb"> </span>{<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">...</span><span style="color:#bbb"> </span>}<span style="color:#bbb"> </span><span style="color:#998;font-style:italic"># N * M * O likes</span><span style="color:#bbb">
</span><span style="color:#bbb">      </span>}<span style="color:#bbb">
</span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></code></pre></div><p>For example, to get all the answers on a question and all their comments, you
would have to make one query for a post, one query for its N answers, but then N
queries for the comments on each answer. As you go deeper to get likes on these
question, answers and comments, the round trips multiply to N*M comments (M
comments per answer), and so on&hellip;</p>
<p>Many solutions are floated to avoid this problem, the most popular one being the
<a href="https://medium.com/@__xuorig__/the-graphql-dataloader-pattern-visualized-3064a00f319f">data loader pattern</a>. <strong>In the data loader pattern,</strong> every invocation to
the resolver gets replaced by a <em>promise</em> to go <em>load</em> that piece of data, with
the final <em>perform</em> to execute those promises and fetch all those pieces in a
batched call.</p>
<p>Depending upon how the implementation is done, this <strong>might result in <em>k or more</em> calls to
the database/endpoint,</strong> where k = number of fields in the GraphQL request.
Someone smarter might come along and further reduce the <em>k</em> calls by
understanding that <em>title</em> and <em>body</em> resolvers are part of the same SQL table
and therefore can be fetched together. But, that&rsquo;d be an optimization over
the same <em>k</em> order of network call complexity.</p>
<p>The <em>k calls</em> can be even worse if the underlying system is distributed.
Instead of having a SQL DB running on just one server, it could be a cluster of
SQL DBs running independently, put together by a thin layer, or a NoSQL
database, etc. In those cases, the data loader pattern would result in more than
<em>k</em> network calls as it becomes aware of how the data is sharded, etc.</p>
<p><strong><a href="https://github.com/dgraph-io/dgraph">Dgraph</a> avoids this problem completely.</strong> Any GraphQL query over Dgraph can be
consumed whole by the database in a single network call. Dgraph has its own
lexer and parser for GraphQL, <strong>allowing it to parse and execute it in one
shot.</strong> So, instead of doing many iterations, it can execute the query in as few
disk seeks and (in a distributed Dgraph cluster) as few network calls as
possible, utilizing the power of Dgraph&rsquo;s unique graph storage and execution.
For the end-user, there&rsquo;s no need to write a resolver, no need for a data
loading framework, no batching, etc. It all just works with a single call to the
DB.</p>
<p>See with Dgraph, instead of trying to squash a graph on top of a Relational or
NoSQL database and thus introducing N+1 problems, you can now just query for the
subgraph you need and operate over that.  You don&rsquo;t have to over fetch or make
multiple round trips, you can just ask for the subgraph that&rsquo;s needed to answer
the query in a single call and <strong>that&rsquo;s efficient and powerful.</strong> Particularly,
when coupled with the advanced operations that Dgraph introduces to the QL.</p>
<h4 id="dgraph-the-graphql-database">Dgraph: The GraphQL Database</h4>
<p>Dgraph&rsquo;s basis in GraphQL means that it is the closest thing available to a
<strong>native GraphQL database.</strong> Because we spent years of engineering effort
focused on making the world&rsquo;s best graph database, we have as a result, also
solved the engineering challenges that GraphQL adopters are hitting and having
to build bespoke solutions for. <strong>Issues like N+1 problems and scale are solved
in the database</strong> (including under and over fetching, overloading the endpoint
with tons of calls, etc.). So a GraphQL solution built with Dgraph doesn&rsquo;t
have the engineering concerns that keep GraphQL engineers up at night.</p>
<p>Dgraph community realizes this power, which is why there has been a demand for
official GraphQL spec support. <em>How Dgraph should do GraphQL</em> has become
a hotly debated topic in our forums. Dgraph is simultaneously hailed and
critiqued due to its <em>love-hate</em> relationship with GraphQL.</p>
<p>Github issues about supporting GraphQL get submitted and are much commented on.
Our most commented issue is our 2019 <a href="https://github.com/dgraph-io/dgraph/issues/2894#issuecomment-454137890">Roadmap</a>, where many of
the comments are about GraphQL support, and our second most commented issue is
&ldquo;Make Dgraph work with <a href="https://github.com/dgraph-io/dgraph/issues/933">standard</a> GraphQL&rdquo;.</p>
<p>Ideas are thrown around about how GraphQL+- could become GraphQL compliant.
Multiple GraphQL to GraphQL+- conversion layers have been built by our community
members (for example, <a href="https://github.com/MichaelJCompton/GraphSchemaTools">here</a> and <a href="http://dpeek.com/dgraphql/">here</a>). The
demand has become too strong to ignore. <strong>Ultimately, we feel interoperability
with the growing GraphQL ecosystem is too important for our users to not be
addressed.</strong></p>
<p>For a while, we have been thinking about a good way to bridge that gap. Here is
a database that began with a version of GraphQL as its native query language.
And four years later, this is still the only query language is speaks and
executes natively. Meanwhile, the community has built social apps on top of
Dgraph. In some cases, replacing their Postgres and MongoDB instances to use
Dgraph and gain the simplicity of GraphQL and the power of native GraphQL
execution. Dgraph is fast, scalable and solves many common GraphQL problems.
Yet, Dgraph is a spectator in the GraphQL arena. That has to change.</p>
<h3 id="today-we-are-changing-that">Today, we are changing that.</h3>
<p>We mentioned folks building a GraphQL to GraphQL+- conversion layer. <a href="https://github.com/MichaelJCompton/GraphSchemaTools">Michael
Compton</a> was one of those folks. When we saw that project, we reached out
to him to join the Dgraph team and build an official one. Over the past few
months, Michael and his team have been hard at work, putting together a native
spec-compliant GraphQL support into Dgraph tapping into the power of
GraphQL+-.</p>
<p><strong>We are proud to launch the <a href="https://graphql.dgraph.io/">beta release</a> of Dgraph GraphQL.</strong> It is
rough around the edges, the <a href="https://graphql.dgraph.io/">website</a> needs work, but it is ready for a
spin! So, bring your favorite GraphQL GUI, React library, or language you are
using to implement your GraphQL server and <a href="https://graphql.dgraph.io/">check it out here</a>!</p>
<h3 id="the-future">The Future</h3>
<p>Dgraph has the advantage of a native GraphQL engine and we plan to adapt it to
efficiently serve common GraphQL features like subscriptions, live queries
and more. Over time, we envision the distinction between GraphQL+- and GraphQL
spec would become smaller and smaller, <strong>to ultimately us merging the two worlds
into one single powerful system.</strong></p>
<p>GraphQL scalability is a work in progress for many companies. We plan to take
that problem head-on with our already scalable and distributed engine, solving
the needs of a startup which has to build an app using the power of GraphQL,
while also solving the needs of a big company, which is struggling with
performance issues from existing GraphQL solutions.</p>
<p>We at Dgraph, bet upon GraphQL before it reached <a href="https://nordicapis.com/interview-with-graphql-co-creator-lee-byron/">ubiquity</a>. We then joined
the GraphQL foundation as a <a href="https://www.linuxfoundation.org/press-release/2019/03/the-graphql-foundation-announces-collaboration-with-the-joint-development-foundation-to-drive-open-source-and-open-standards/">founding</a> member. And today, we reassert our
faith that GraphQL will change the landscape of how apps are built. At the same
time, we recognize that <strong>the GraphQL landscape needs performant <a href="https://graphql.dgraph.io/">native</a>
solutions, which are not just bolt-ons on top of an unrelated database.</strong></p>
<p>We&rsquo;re also proud to sponsor the <a href="https://summit.graphql.com">GraphQL Summit</a> in
San Francisco this week.  If you&rsquo;re there, come past our booth and talk to us
about Dgraph, our native GraphQL support and all things GraphQL.</p>


<aside class="post__references">

    <h4>References</h4></aside>

<section class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1" role="doc-endnote">
<p>See <a href="https://github.com/nchah/freebase-mql">here</a> a rough comparison of MQL vs GraphQL. <a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</section>

                        </div>

                        
    <aside class="post__authors">
                <div class="tile author-tile">

    <img src="https://blog.dgraph.io/images/people/manish.jpg" class="author-tile__photo">

    <h4 class="author-tile__title">
        <a href="https://blog.dgraph.io/authors/mrjn/">Manish Rai Jain</a>,
        Author
    </h4>

    <p>Manish is the Chief decision maker at Dgraph. He got thrust into distributed
systems right out of college, working on real time web indexing systems at
Google. He then lead various projects to consolidate and serve Knowledge Graph
right behind web search.</p>
<p>Implementing GTD and Zero Waste practices, Manish is into efficient and
minimalist living. He loves cycling, swimming and ultra light travelling.</p>


    
        <nav class="author-tile__social">

            

            
                <a href="https://twitter.com/manishrjain" target="_blank">
                    <i class="fab fa-twitter"></i>
                </a>
            

            
                <a href="https://github.com/manishrjain" target="_blank">
                    <i class="fab fa-github"></i>
                </a>
            

        </nav>
    

</div>

            
        
                <div class="tile author-tile">

    <img src="https://blog.dgraph.io/images/people/michael.jpg" class="author-tile__photo">

    <h4 class="author-tile__title">
        <a href="https://blog.dgraph.io/authors/michael/">Michael Compton</a>,
        Editor
    </h4>

    <p>Michael did undergrad computer science at ANU in Canberra and a Ph.D. at
Cambridge in the U.K.  He&rsquo;s worked for a number of years with graph databases.
He likes sport and hanging out with his family.</p>


    

</div>

            
        

    </aside>



                        <div class="post__comments">

    <div id="discourse-comments"></div>

    
    <script type="text/javascript">
        DiscourseEmbed = {
            discourseUrl: "https:\/\/discuss.dgraph.io\/",
            topicId:  5308 
            };
        (function() {
            var d = document.createElement("script");
            d.type = "text/javascript";
            d.async = true;
            d.src = DiscourseEmbed.discourseUrl + "javascripts/embed.js";
            (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(d);
        })();
    </script>
    <noscript>Please enable JavaScript to view the comments on <a href="https://discuss.dgraph.io/">discuss</a>.</noscript>
    

</div>


                        <div class="modal fade" id="runnable-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <a href="#" data-dismiss="modal" class="modal-close-btn">
    Close
  </a>

  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">

      </div>
    </div>
  </div>
</div>

                    </div>
                </div>

                <div class="col-12 col-md-4 col-lg-3 offset-lg-1">
                    <div class="page-body__sidebar">

                        




<div class="post__related">

    <h3>Related Posts</h3>

    
    <div class="post">

        <div class="post__image">
    <img src="https://blog.dgraph.io//images/Jupiter%20North.jpg">
</div>


    	<div class="post__header">

    		<div class="post__date">

    
        Sun, May 3, 2020
    
    
</div>


    		<h4 class="post__title">
    			<a href="https://blog.dgraph.io/post/dgraph-graphql-hits-ga/">Dgraph GraphQL hits GA with v20.03.1</a>
    		</h4>

    		
<div class="post__byline">

    
            by <a href="https://blog.dgraph.io/authors/dmai/">Daniel Mai</a>
        
    

</div>



    	</div>

    </div>
    
    <div class="post">

        <div class="post__image">
    <img src="https://blog.dgraph.io//images/graphql/cover-1.png">
</div>


    	<div class="post__header">

    		<div class="post__date">

    
        Sun, Apr 12, 2020
    
    
</div>


    		<h4 class="post__title">
    			<a href="https://blog.dgraph.io/post/designing-graphql-schemas/">Designing GraphQL schemas</a>
    		</h4>

    		
<div class="post__byline">

    
            by <a href="https://blog.dgraph.io/authors/karthic/">Karthic Rao</a>
        
    

</div>



    	</div>

    </div>
    

</div>



                        
<div class="post__tags">

    <h3>Tags</h3>

    <div>

        
            
            
                <a href="https://blog.dgraph.io/tags/graphql/">graphql</a>
            
        

    </div>

</div>



                        <aside class="post__cta">

    <h3>
        Deploy Dgraph<br>
        in Minutes
    </h3>

    <p>Dgraph does more than just simplify your workload. Discover what makes Dgraph GraphQL the best option for the job.</p>

    <a href="https://dgraph.io/downloads" class="button button--secondary">
        <span>Download</span>
        <i class=" fas fa-arrow-right"></i>
    </a>

</aside>


                    </div>
                </div>

            </div>
        </div>
    </section>

    <footer class="page-footer">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-5 col-sm-4">
        <div class="row">
          <div class="col-12 col-md-6 page-footer__nav">
            <h3 class="zeta">Products</h3>
            <ul>
              <li><a href="https://dgraph.io/graphql">GraphQL</a></li>
              <li><a href="https://dgraph.io/enterprise">Enterprise</a></li>
              <li><a href="https://dgraph.io/downloads">Downloads</a></li>
            </ul>
          </div>
          <div class="col-12 col-md-6 page-footer__nav">
            <h3 class="zeta">Learn</h3>
            <ul>
              <li><a href="https://dgraph.io/blog" target="_blank">Blog</a></li>
              <li><a href="https://tour.dgraph.io" target="_blank">Interactive Tour</a></li>
              <li><a href="https://discuss.dgraph.io" target="_blank">Forum</a></li>
              <li><a href="https://slack.dgraph.io" target="_blank">Slack</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-5 col-sm-4">
        <div class="row">
          <div class="col-12 col-md-6 page-footer__nav">
            <h3 class="zeta">Docs</h3>
            <ul>
              <li><a href="https://docs.dgraph.io" target="_blank">Dgraph Docs</a></li>
              <li><a href="https://graphql.dgraph.io/docs/" target="_blank">GraphQL Docs</a></li>
            </ul>
          </div>
          <div class="col-12 col-md-6 page-footer__nav">
            <h3 class="zeta">Company</h3>
            <ul>
              <li><a href="https://dgraph.io/about">Team</a></li>
              <li><a href="https://dgraph.io/careers">Careers</a></li>
              <li><a href="https://dgraph.io/contact">Contact</a></li>
              <li><a href="https://dgraph.io/conduct">Conduct</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-6 col-md-4 col-lg-3 offset-lg-1 border-above-sm">
        <div class="page-footer__cta"><a href="https://dgraph.io/downloads" title="Download" class="button button--secondary"><span>Download</span><i class="fas fa-arrow-right"></i></a></div>
        <div class="page-footer__address">
          <p>
            655 Montgomery Street, 7th Floor<br>
            San Francisco, CA 94111
          </p>
          <hr>
          <p><a href="mailto:contact@dgraph.io">contact@dgraph.io</a></p>
        </div>
      </div>
    </div>
    <div class="page-footer__social">
      <ul>
        <li><a href="https://twitter.com/dgraphlabs" target="_blank"><i class="fab fa-twitter"></i></a></li>
        <li><a href="https://github.com/dgraph-io/dgraph" target="_blank"><i class="fab fa-github"></i></a></li>
        <li><a href="https://www.youtube.com/channel/UCghE41LR8nkKFlR3IFTRO4w" target="_blank"><i class="fab fa-youtube"></i></a></li>
        <li><a href="https://slack.dgraph.io" target="_blank"><i class="fab fa-slack"></i></a></li>
        <li><a href="https://www.linkedin.com/company/dgraph-labs" target="_blank"><i class="fab fa-linkedin"></i></a></li>
      </ul>
    </div>
    <div class="page-footer__copyright">
      <p>
        <Copyright>&copy; 2017-2020 Dgraph Labs, Inc.</Copyright>
      </p>
    </div>
  </div>
</footer>

    <script src="https://blog.dgraph.io//js/clipboard.min.js"></script>
    <script
      src='https://blog.dgraph.io//js/runnable.js?29f8ba4fb8d90804cf24ff53b70192ad'
    ></script>
    <script>
      hljs.initHighlightingOnLoad();
    </script>




<script>
  window.Countly = window.Countly || {};
  Countly.q = Countly.q || [];

  Countly.q.push(['track_sessions']);
  Countly.q.push(['track_pageview']);
  (function() {
  	var cly = document.createElement('script');
  	cly.type = 'text/javascript';
  	cly.async = true;
  	cly.src = "https://dgraph.io/assets/js/unminified/stats/dgraph-stats.min.js";
  	cly.onload = function() {
      Countly.init({
        app_key: "e93284ab5e5d21ef9eb16a94516b3c1c6eba1015",
        url: "https://stats.dgraph.io",
        force_post: true,
      })
  	};
  	document.body.appendChild(cly);
  })();
</script>


<script>
$(document.links)
  .filter(function() {
    return this.hostname != window.location.hostname;
  })
  .attr("target", "_blank");
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/visibility.js/1.2.4/visibility.min.js"></script>
<link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">
<link
  href='https://blog.dgraph.io//css/heart.css?24a50879951b2391f04750723b4a012e'
  rel="stylesheet">
<link
  href='https://blog.dgraph.io//css/github-engage.css?d60d80bf2b6a24350cdb5d834ab47e27'
  rel="stylesheet">

<script
  src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js"
  integrity="sha256-7/yoZS3548fXSRXqc/xYzjsmuW3sFKzuvOCHd06Pmps="
  crossorigin="anonymous"
></script>
<script
  type="text/javascript"
  src='https://blog.dgraph.io//js/custom.js?94f0c667422b8dac293e14c9c49872e3'
></script>

<script src="//unpkg.com/@dgraph-io/community"></script>


</body>

    <script src="https://blog.dgraph.io/js/footnotes.js"></script>

</html>

